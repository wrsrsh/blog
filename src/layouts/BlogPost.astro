---
import type { CollectionEntry } from "astro:content";
import Layout from "../components/Layout.astro";
import FormattedDate from "../components/FormattedDate.astro";
import { Image } from "astro:assets";

type Props = CollectionEntry<"blog">["data"];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<Layout title={title} description={description} image={heroImage?.src} type="article" pubDate={pubDate} updatedDate={updatedDate} pageType="blog-post">
  <article>

    <header class="pt-14">
      <h1 class="text-2xl font-semibold mb-2">{title}</h1>

      <p style="color: var(--color-muted);">
        <FormattedDate date={pubDate} />
        {
          updatedDate && (
            <span class="italic">
              (Updated: <FormattedDate date={updatedDate} />)
            </span>
          )
        }
      </p>
    </header>


    <div class="hero-image py-4">
      {
        heroImage && (
          <Image
            width={1020}
            height={510}
            src={heroImage}
            alt=""
          />
        )
      }
    </div>
    <div class="prose">
      <slot />
    </div>

    <p
      class="mt-10 pt-4 border-t border-dashed"
      style="border-color: var(--color-border);"
    >
      <a href="/blog/">&larr; Back to blog</a>
    </p>
  </article>
</Layout>
